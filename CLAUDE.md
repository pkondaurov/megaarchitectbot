# MegaArchitectBot ‚Äî –ë–æ—Ç-–∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–æ–π –±–æ—Ç–æ–≤

–ú–µ—Ç–∞-–±–æ—Ç –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –±–æ—Ç–æ–≤, –∫–æ–º–∞–Ω–¥, —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è Claude Code. –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ–≤–µ—Ä—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ libBotUtilites –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π.

---

## ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–´–ï –ü–†–ê–í–ò–õ–ê

### MCP-—Å–µ—Ä–≤–µ—Ä—ã (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç!)
- **–î–ª—è —Ä–∞–±–æ—Ç—ã —Å –ë–î** ‚Äî –í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–π `mcp__postgres__query`, –ù–ï Bash —Å psql
- **–î–ª—è —Ä–∞–±–æ—Ç—ã —Å —Å–µ—Ä–≤–µ—Ä–æ–º** ‚Äî –í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–π `mcp__ssh__exec` –∏–ª–∏ `mcp__ssh__sudo-exec`, –ù–ï Bash —Å ssh
- **–î–ª—è —Ä–∞–±–æ—Ç—ã —Å GitHub API** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π `mcp__github__*` –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã

### –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
- **GitHub:** https://github.com/pkondaurov/megaarchitectbot
- **–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞:** @../libBotUtilites/CLAUDE.md
- **–°—Ö–µ–º–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:** `fbs_technozerg_bot`
- **–°—Ö–µ–º–∞ –±–æ—Ç–∞:** `megaarchitectbot`

### –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ
- **–ò–º—è –±–æ—Ç–∞:** `megaarchitectbot` ‚Äî –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è `botusername`
- **–í–ê–ñ–ù–û: schema = botusername** ‚Äî —Å—Ö–µ–º–∞ –ë–î –≤—Å–µ–≥–¥–∞ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –∏–º–µ–Ω–µ–º –±–æ—Ç–∞
- **–¢–µ—Å—Ç–æ–≤—ã–π –±–æ—Ç:** `@forlocaltestbot` (–æ–±—â–∏–π –¥–ª—è –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤)

### –ü—Ä–µ—Ñ–∏–∫—Å—ã —Ñ—É–Ω–∫—Ü–∏–π
- `lib*` ‚Äî —Ñ—É–Ω–∫—Ü–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
- `lc*` ‚Äî –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–æ—Ç–∞

### –î–µ–Ω—å–≥–∏ –∏ –¥–∞—Ç—ã
- **–í–°–ï —Å—É–º–º—ã –≤ –ö–û–ü–ï–ô–ö–ê–•**
- **–í—Å–µ–≥–¥–∞ `TIMESTAMPTZ`** (—Å timezone), –Ω–µ `TIMESTAMP`

---

## üéØ –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –±–æ—Ç–∞

MegaArchitectBot ‚Äî —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ –¥–ª—è:

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –±–æ—Ç–æ–≤
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –±–æ—Ç–∞ –≤ `lib_bots`
- –°–±–æ—Ä –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –≤ `lib_bots.secrets`
- –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ö–µ–º—ã –ë–î –¥–ª—è –±–æ—Ç–∞
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–∫–µ–ª–µ—Ç–∞ –∫–æ–¥–∞ (index.js, package.json, CLAUDE.md)
- –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –Ω–∞ GitHub
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–µ–ø–ª–æ—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –¥–ª—è –±–æ—Ç–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –≤ `lib_savescenario` (—à–∞–≥–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è)
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫ –≤ `lib_scenariobuttons`
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤ –≤ `lib_cmdmessages`
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è Claude Code –ø—Ä–æ–º–ø—Ç–∞ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ª–æ–≥–∏–∫–∏ –∫–æ–º–∞–Ω–¥—ã

### 3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç-–ø–ª–∞–Ω–æ–≤
- –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–Ω–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥—ã
- –§–æ—Ä–º–∞—Ç –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ MTProto-–±–æ—Ç–∞-—Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –≤–µ—Ç–≤–ª–µ–Ω–∏–π —Å—Ü–µ–Ω–∞—Ä–∏—è

### 4. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è Claude Code
- –ü—Ä–æ–º–ø—Ç –¥–ª—è –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∫–Ω–æ–ø–æ–∫ (`lcPrepareQuestionStep`)
- –ü—Ä–æ–º–ø—Ç –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (`lcCheckValidField`)
- –ü—Ä–æ–º–ø—Ç –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (`lcSaveTaskToDb`)
- –ü—Ä–æ–º–ø—Ç –¥–ª—è –¥–µ–π—Å—Ç–≤–∏–π –ø–µ—Ä–µ–¥ –ø—Ä–∏—Å–≤–æ–µ–Ω–∏–µ–º (`lcActBeforeAssign`)

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
```javascript
const lib = process.env.NODE_ENV === 'production'
    ? require('libBotUtiletes')
    : require('../libBotUtilites/libBotUtilitesIndex.js');

const dbConnect = require('./dbconnect.json');

const vBotConfig = {
    glBotUserName: 'megaarchitectbot',
    schema: 'megaarchitect',
    dbConnect: dbConnect,
    // –∫–æ–ª–ª–±–µ–∫–∏...
};

let glArr = lib.libCreateBotInstance(vBotConfig);
```

---

## üìä –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (—Å—Ö–µ–º–∞: megaarchitect)

### managed_bots ‚Äî –£–ø—Ä–∞–≤–ª—è–µ–º—ã–µ –±–æ—Ç—ã
```sql
CREATE TABLE megaarchitect.managed_bots (
    id SERIAL PRIMARY KEY,
    botusername VARCHAR(100) NOT NULL UNIQUE,
    lib_bots_id INTEGER REFERENCES fbs_technozerg_bot.lib_bots(id),
    github_repo VARCHAR(200),
    server_path VARCHAR(300),
    pm2_name VARCHAR(100),
    createdat TIMESTAMPTZ DEFAULT now(),
    createdby INTEGER REFERENCES fbs_technozerg_bot.lib_botusers(id)
);
```

### managed_commands ‚Äî –°–æ–∑–¥–∞–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
```sql
CREATE TABLE megaarchitect.managed_commands (
    id SERIAL PRIMARY KEY,
    managed_bots_id INTEGER REFERENCES megaarchitect.managed_bots(id),
    command VARCHAR(50) NOT NULL,
    tasktype VARCHAR(50) NOT NULL,
    description TEXT,
    createdat TIMESTAMPTZ DEFAULT now(),
    createdby INTEGER REFERENCES fbs_technozerg_bot.lib_botusers(id)
);
```

### command_steps ‚Äî –®–∞–≥–∏ –∫–æ–º–∞–Ω–¥ (–∑–µ—Ä–∫–∞–ª–æ lib_savescenario)
```sql
CREATE TABLE megaarchitect.command_steps (
    id SERIAL PRIMARY KEY,
    managed_commands_id INTEGER REFERENCES megaarchitect.managed_commands(id),
    lib_savescenario_id INTEGER REFERENCES fbs_technozerg_bot.lib_savescenario(id),
    stepname VARCHAR(50) NOT NULL,
    ordernumber INTEGER NOT NULL,
    fieldtype VARCHAR(50),
    questiontext TEXT,
    createdat TIMESTAMPTZ DEFAULT now()
);
```

### test_plans ‚Äî –ü–ª–∞–Ω—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```sql
CREATE TABLE megaarchitect.test_plans (
    id SERIAL PRIMARY KEY,
    managed_commands_id INTEGER REFERENCES megaarchitect.managed_commands(id),
    testplan_json JSONB NOT NULL,
    createdat TIMESTAMPTZ DEFAULT now(),
    lastrun TIMESTAMPTZ,
    lastresult VARCHAR(20) -- 'passed', 'failed', 'pending'
);
```

### claude_prompts ‚Äî –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã
```sql
CREATE TABLE megaarchitect.claude_prompts (
    id SERIAL PRIMARY KEY,
    managed_commands_id INTEGER REFERENCES megaarchitect.managed_commands(id),
    prompt_type VARCHAR(50) NOT NULL, -- 'prepare_step', 'save_task', 'before_assign', 'full_implementation'
    prompt_text TEXT NOT NULL,
    createdat TIMESTAMPTZ DEFAULT now()
);
```

---

## üìù –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

### /newbot ‚Äî –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞
`taskType: 'createBot'`

–®–∞–≥–∏:
1. `botusername` ‚Äî –∏–º—è –±–æ—Ç–∞ (–±–µ–∑ @)
2. `botdescription` ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –±–æ—Ç–∞
3. `bottoken_prod` ‚Äî —Ç–æ–∫–µ–Ω –ø—Ä–æ–¥–∞–∫—à–Ω-–±–æ—Ç–∞ –æ—Ç @BotFather
4. `bottoken_test` ‚Äî —Ç–æ–∫–µ–Ω —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –±–æ—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â–∏–π)
5. `github_create` ‚Äî —Å–æ–∑–¥–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub? (–¥–∞/–Ω–µ—Ç)
6. `server_deploy` ‚Äî –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–µ–ø–ª–æ–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ? (–¥–∞/–Ω–µ—Ç)

–†–µ–∑—É–ª—å—Ç–∞—Ç:
- –ó–∞–ø–∏—Å—å –≤ `lib_bots` —Å —Ç–æ–∫–µ–Ω–∞–º–∏ –≤ `secrets`
- –°—Ö–µ–º–∞ –≤ PostgreSQL
- –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ GitHub (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –°–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã: index.js, package.json, CLAUDE.md, .gitignore

### /newcmd ‚Äî –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –∫–æ–º–∞–Ω–¥—ã
`taskType: 'createCommand'`

–®–∞–≥–∏:
1. `target_bot` ‚Äî –≤—ã–±–æ—Ä –±–æ—Ç–∞ (–∫–Ω–æ–ø–∫–∏ –∏–∑ managed_bots)
2. `command_name` ‚Äî –∏–º—è –∫–æ–º–∞–Ω–¥—ã (–±–µ–∑ /)
3. `tasktype` ‚Äî –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ç–∏–ø–∞ –∑–∞–¥–∞—á–∏
4. `command_description` ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã
5. `steps_count` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤
6. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞:
   - `step_N_name` ‚Äî –∏–º—è —à–∞–≥–∞
   - `step_N_question` ‚Äî —Ç–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞
   - `step_N_fieldtype` ‚Äî —Ç–∏–ø –ø–æ–ª—è (–∫–Ω–æ–ø–∫–∏ –∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞)
   - `step_N_buttons` ‚Äî –∫–Ω–æ–ø–∫–∏ (–µ—Å–ª–∏ fieldtype=button)

–†–µ–∑—É–ª—å—Ç–∞—Ç:
- –ó–∞–ø–∏—Å–∏ –≤ `lib_savescenario`
- –ó–∞–ø–∏—Å–∏ –≤ `lib_scenariobuttons` (–µ—Å–ª–∏ –µ—Å—Ç—å –∫–Ω–æ–ø–∫–∏)
- –ó–∞–ø–∏—Å—å –≤ `lib_cmdmessages` (–µ—Å–ª–∏ –æ–¥–Ω–æ—Ö–æ–¥–æ–≤–∞—è)
- –ü–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ `test_plans`
- –ü—Ä–æ–º–ø—Ç—ã –¥–ª—è Claude Code –≤ `claude_prompts`

### /genprompt ‚Äî –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–∞ –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∫–æ–º–∞–Ω–¥—ã
`taskType: 'generatePrompt'`

–®–∞–≥–∏:
1. `target_bot` ‚Äî –≤—ã–±–æ—Ä –±–æ—Ç–∞
2. `target_command` ‚Äî –≤—ã–±–æ—Ä –∫–æ–º–∞–Ω–¥—ã
3. `prompt_type` ‚Äî —Ç–∏–ø –ø—Ä–æ–º–ø—Ç–∞ (prepare_step, save_task, before_assign, full)

### /testplan ‚Äî –ü—Ä–æ—Å–º–æ—Ç—Ä/–∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç-–ø–ª–∞–Ω–∞
`taskType: 'viewTestPlan'`

–®–∞–≥–∏:
1. `target_bot` ‚Äî –≤—ã–±–æ—Ä –±–æ—Ç–∞
2. `target_command` ‚Äî –≤—ã–±–æ—Ä –∫–æ–º–∞–Ω–¥—ã
3. `action` ‚Äî –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å / –∑–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç

### /listbots ‚Äî –°–ø–∏—Å–æ–∫ —É–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö –±–æ—Ç–æ–≤
–û–¥–Ω–æ—Ö–æ–¥–æ–≤–∞—è –∫–æ–º–∞–Ω–¥–∞. –í—ã–≤–æ–¥–∏—Ç —Å–ø–∏—Å–æ–∫ –±–æ—Ç–æ–≤ —Å –∫–Ω–æ–ø–∫–∞–º–∏ –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ –∫–æ–º–∞–Ω–¥–∞–º.

### /listcmds ‚Äî –°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞
`taskType: 'listCommands'`

–®–∞–≥–∏:
1. `target_bot` ‚Äî –≤—ã–±–æ—Ä –±–æ—Ç–∞

---

## üîß –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ –¥–ª—è Claude Code

### –®–∞–±–ª–æ–Ω –ø—Ä–æ–º–ø—Ç–∞ –¥–ª—è –Ω–æ–≤–æ–π –∫–æ–º–∞–Ω–¥—ã

```markdown
## –ó–∞–¥–∞—á–∞: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—É /{command} –¥–ª—è –±–æ—Ç–∞ {botusername}

### –û–ø–∏—Å–∞–Ω–∏–µ
{description}

### –®–∞–≥–∏ —Å—Ü–µ–Ω–∞—Ä–∏—è
{steps_table}

### –ß—Ç–æ –Ω—É–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å

1. **lcPrepareQuestionStep** ‚Äî –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∫–Ω–æ–ø–∫–∏ –¥–ª—è —à–∞–≥–æ–≤:
{prepare_step_code}

2. **lcActBeforeAssign** ‚Äî –ª–æ–≥–∏–∫–∞ –ø–µ—Ä–µ–¥ –ø—Ä–∏—Å–≤–æ–µ–Ω–∏–µ–º:
{before_assign_code}

3. **lcSaveTaskToDb** ‚Äî —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î:
{save_task_code}

4. **–¢–∞–±–ª–∏—Ü—ã –ë–î** (–µ—Å–ª–∏ –Ω—É–∂–Ω—ã –Ω–æ–≤—ã–µ):
{db_tables}

### –¢–µ—Å—Ç-–ø–ª–∞–Ω
{test_plan}
```

### –®–∞–±–ª–æ–Ω —Ç–µ—Å—Ç-–ø–ª–∞–Ω–∞ (JSON)

```json
{
  "command": "/labcheck",
  "tasktype": "labCheck",
  "scenarios": [
    {
      "name": "–£—Å–ø–µ—à–Ω—ã–π –ø—É—Ç—å",
      "steps": [
        {"action": "send", "value": "/labcheck"},
        {"action": "wait", "expect": "contains", "text": "–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–æ—Ç–æ"},
        {"action": "send_photo", "file": "test_analysis.jpg"},
        {"action": "send", "value": "—Å—Ç–æ–ø—Å—Ç–æ–ø"},
        {"action": "wait", "expect": "buttons", "buttons": ["–ú–æ–∏", "–î—Ä—É–≥–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞"]},
        {"action": "click_button", "text": "–ú–æ–∏"},
        {"action": "wait", "expect": "contains", "text": "–û–ø–∏—à–∏—Ç–µ"}
      ]
    },
    {
      "name": "–û—Ç–º–µ–Ω–∞ –Ω–∞ –ø–µ—Ä–≤–æ–º —à–∞–≥–µ",
      "steps": [
        {"action": "send", "value": "/labcheck"},
        {"action": "send", "value": "/cancel"},
        {"action": "wait", "expect": "contains", "text": "–æ—Ç–º–µ–Ω–µ–Ω"}
      ]
    }
  ]
}
```

---

## üîÑ –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã

```
/newcmd
    ‚îÇ
    ‚îú‚îÄ –°–±–æ—Ä –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–æ–º–∞–Ω–¥–µ
    ‚îÇ
    ‚îú‚îÄ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–ø–∏—Å–µ–π –≤ lib_savescenario
    ‚îÇ
    ‚îú‚îÄ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–ø–∏—Å–µ–π –≤ lib_scenariobuttons
    ‚îÇ
    ‚îú‚îÄ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç-–ø–ª–∞–Ω–∞ ‚Üí test_plans
    ‚îÇ
    ‚îú‚îÄ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–æ–≤ ‚Üí claude_prompts
    ‚îÇ
    ‚îî‚îÄ –û—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–æ–º–ø—Ç–∞ –≤ —á–∞—Ç –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è –≤ Claude Code
```

---

## üîß –õ–æ–∫–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

| –§—É–Ω–∫—Ü–∏—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `lcGenerateBotSkeleton` | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞ |
| `lcGenerateClaudePrompt` | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–∞ –¥–ª—è Claude Code |
| `lcGenerateTestPlan` | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç-–ø–ª–∞–Ω–∞ |
| `lcCreateScenarioSteps` | –°–æ–∑–¥–∞–Ω–∏–µ —à–∞–≥–æ–≤ –≤ lib_savescenario |
| `lcGetManagedBots` | –°–ø–∏—Å–æ–∫ —É–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö –±–æ—Ç–æ–≤ (–¥–ª—è –∫–Ω–æ–ø–æ–∫) |
| `lcGetBotCommands` | –°–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ –±–æ—Ç–∞ (–¥–ª—è –∫–Ω–æ–ø–æ–∫) |

---

## üöÄ –î–µ–ø–ª–æ–π

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫
```bash
cd /home/pkondaurov/dev/megaarchitectbot
pm2 start megaarchitectbotIndex.js --name megaarchitectbot-test
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
```bash
ssh notfstrf@84.252.140.239
bash ~/updMegaArchitectBot.sh
```

---

## üîß –°—Ç–∏–ª—å –∫–æ–¥–∞

```javascript
// –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã–≤–∞—é—â–∏—Ö —Å–∫–æ–±–æ–∫
if (condition) {
    // –ª–æ–≥–∏–∫–∞
}//–û–ø–∏—Å–∞–Ω–∏–µ –±–ª–æ–∫–∞

// –≠–º–æ–¥–∂–∏-–º–∞—Ä–∫–µ—Ä—ã
// ‚õî = return
// üõë = continue
// üì¢üì¢üì¢ = –≤–∞–∂–Ω–æ–µ –º–µ—Å—Ç–æ
```

---

## üö´ –ß–µ–≥–æ –ù–ï –¥–µ–ª–∞—Ç—å

1. **–ù–µ —Ö–∞—Ä–¥–∫–æ–¥–∏—Ç—å —Å—Ö–µ–º—É** ‚Äî –≤—Å–µ–≥–¥–∞ `${glArr.glPgLibSchema}.lib_*`
2. **–ù–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å lib_-—Ç–∞–±–ª–∏—Ü—ã –≤ —Å—Ö–µ–º–µ –±–æ—Ç–∞** ‚Äî —Ç–æ–ª—å–∫–æ –≤ `fbs_technozerg_bot`
3. **–ù–µ —É–¥–∞–ª—è—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ `}//`** ‚Äî –∫—Ä–∏—Ç–∏—á–Ω—ã –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
4. **–ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å TIMESTAMP** ‚Äî —Ç–æ–ª—å–∫–æ `TIMESTAMPTZ`
5. **–ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Markdown** ‚Äî –≤—Å–µ–≥–¥–∞ HTML-—Ä–∞–∑–º–µ—Ç–∫–∞ (`<b>`, `<i>`, `<code>`), –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å `parse_mode`
